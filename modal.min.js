/*!
 * @license modal
 * (c) sugarshin
 * License: MIT
 */
(function(){"use strict";var t=function(t,o){function n(){this.constructor=t}for(var i in o)e.call(o,i)&&(t[i]=o[i]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},e={}.hasOwnProperty;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery"),require("events").EventEmitter):t.Modal||(t.Modal=e(t.jQuery,t.EventEmitter))}(this,function(e,o){var n;return n=function(n){function i(t,e){this.el=t,this._configure(this.el,e),o.call(this),this.evnets()}var r,s,l;return t(i,n),r=e(document.body),l='<div class="modal-wrapper js-modal-wrapper"> <div class="modal-bg js-modal-bg"></div> <div class="modal js-modal"> <div class="modal-inner js-modal-inner"> <div class="modal-body js-modal-body"> </div> </div> </div> </div>',s=!1,i.setBaseElement=function(t){return l=t},i.isAnyOpened=function(){return s},i.prototype._defaults={width:640,height:360,bodySelector:".js-modal-body"},i.prototype._configure=function(t,o){return this.$el=e(t),this.opts=e.extend({},this._defaults,o)},i.prototype._getScrollbarWidth=function(){var t,e;return t=document.createElement("div"),t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t),e},i.prototype.render=function(t){return e(this.opts.bodySelector).append(t),this},i.prototype.set=function(t,e){return this.opts[t]=e},i.prototype.open=function(){var t;if(!s)return this._opened=s=!0,t=this._getScrollbarWidth(),r.css("margin-right",t).append(l).css("overflow","hidden"),e(".js-modal").css({width:this.opts.width,height:this.opts.height,marginTop:-this.opts.height/2,marginLeft:-this.opts.width/2}),this.closeEvent(),this.emit("open",this.el,this),this},i.prototype.close=function(){return this._opened=s=!1,r.css({marginRight:0,overflow:"visible"}),e(document.body.lastChild).remove(),this.emit("close",this.el,this),this},i.prototype.evnets=function(){return this.$el.on("click.openmodal",function(t){return function(e){return null!=e&&"function"==typeof e.preventDefault&&e.preventDefault(),t.open()}}(this)),this},i.prototype.unbind=function(){return this.$el.off("click.openmodal"),this},i.prototype.closeEvent=function(){return e(".js-close-modal, .js-modal-bg").on("click.closemodal",function(t){return function(e){return null!=e&&"function"==typeof e.preventDefault&&e.preventDefault(),t.close()}}(this)),this},i}(o)})}).call(this);
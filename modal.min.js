/*!
 * @license modal
 * (c) sugarshin
 * License: MIT
 */
(function(){"use strict";var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery"),require("events").EventEmitter):t.Modal||(t.Modal=e(t.jQuery,t.EventEmitter))}(this,function(e,o){var i;return i=function(i){function r(t,e){this.el=t,this._configure(this.el,e),o.call(this),this.evnets()}var n,s,l;return t(r,i),n=e(document.body),l='<div class="modal-wrapper js-modal-wrapper"> <div class="modal-bg js-modal-bg"></div> <div class="modal js-modal"> <div class="modal-inner js-modal-inner"> <div class="modal-body js-modal-body"> </div> </div> </div> </div>',s=!1,r.setBaseElement=function(t){return l=t},r.isAnyOpened=function(){return s},r.prototype._defaults={width:640,height:360,wrapperSelector:".js-modal-wrapper",bgSelector:".js-modal-bg",coreSelector:".js-modal",bodySelector:".js-modal-body",closeSelector:".js-close-modal"},r.prototype._configure=function(t,o){return this.$el=e(t),this.opts=e.extend({},this._defaults,o)},r.prototype._getScrollbarWidth=function(){var t,e;return t=document.createElement("div"),t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t),e},r.prototype.render=function(t){return e(this.opts.bodySelector).append(t),this},r.prototype.set=function(t,e){return this.opts[t]=e},r.prototype.open=function(){var t;if(!s)return this._opened=s=!0,t=this._getScrollbarWidth(),this._normalBodyMarginRight=n.css("margin-right"),n.css("margin-right",t).append(l).css("overflow","hidden"),e(this.opts.coreSelector).css({width:this.opts.width,height:this.opts.height,marginTop:-this.opts.height/2,marginLeft:-this.opts.width/2}),this.closeEvent(),this.emit("open",this.el,this),this},r.prototype.close=function(){return this._opened=s=!1,n.css({marginRight:this._normalBodyMarginRight,overflow:"visible"}),e(this.opts.wrapperSelector).remove(),this.emit("close",this.el,this),this},r.prototype.evnets=function(){return this.$el.on("click.openmodal",function(t){return function(e){return null!=e&&"function"==typeof e.preventDefault&&e.preventDefault(),t.open()}}(this)),this},r.prototype.unbind=function(){return this.$el.off("click.openmodal"),this},r.prototype.closeEvent=function(){return e(this.opts.closeSelector+", "+this.opts.bgSelector).on("click.closemodal",function(t){return function(e){return null!=e&&"function"==typeof e.preventDefault&&e.preventDefault(),t.close()}}(this)),this},r}(o)})}).call(this);